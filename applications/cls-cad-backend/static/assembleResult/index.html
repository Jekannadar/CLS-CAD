<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
    <script type="module" crossorigin src="./assets/index.226dfd3c.js"></script>
    <link rel="stylesheet" href="./assets/index.de201acd.css" />
  </head>
  <body>
    <script>
      // Once document loads, poll to see when Fusion deems it is time to inject adsk, then signal we are ready to receive data
      document.addEventListener("DOMContentLoaded", () => {
        let adskWaiter = setInterval(() => {
          if (window.adsk) {
            clearInterval(adskWaiter);
            window.adsk
              .fusionSendData("readyNotification", "{}")
              .then((result) => console.log(result));
          }
        }, 100);
      });

      window.fusionJavaScriptHandler = {
        handle: function (action, data) {
          try {
            console.log(action);
            if (action === "updateMessage") {
              updateMessage(data);
            } else if (action === "taxonomyDataMessage") {
              console.log("TaxonomyData arrived.");
              setTaxonomyData(data);
            } else if (action === "taxonomyIDMessage") {
              console.log("TaxonomyID arrived.");
              document.title = data;
              taxonomyID = data;
            } else if (action === "returnTaxonomyDataMessage") {
              sendUpdatedData();
            } else if (action === "debugger") {
              debugger;
            } else {
              return `Unexpected command type: ${action}`;
            }
          } catch (e) {
            console.log(e);
            console.log(
              `Exception caught with command: ${action}, data: ${data}`
            );
          }
          return "OK";
        },
      };
    </script>
    <div id="app"></div>
  </body>
</html>
